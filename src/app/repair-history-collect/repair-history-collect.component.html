<div *ngIf="!(is_login|async)">
  此页面仅登陆用户才可查看
</div>
<div *ngIf="is_login|async" class="container">
  <md-sidenav-container class="navbar-sidenav"
                        [ngStyle]="{'height':(page_height)+'px'}"
                        #container>
    <app-content style="overflow-y: auto"
                 [height]="page_height"
    >
    </app-content>
    <md-sidenav
      mode="side"
      class="sidenav-container card"
      [ngStyle]="{'height':(page_height-25)+'px'}"
      [opened]="($state|async)?.which_sidenav_open!==''"
      [disableClose]="true">
      <div class="sidenav-content"
           *ngIf="($state|async)?.which_sidenav_open === 'date_list'"
      >
        <app-repair-collect-date-card-list
        >
        </app-repair-collect-date-card-list>
      </div>
      <div class="sidenav-content"
           fxLayoutAlign="start center"
           fxLayout="column"
           *ngIf="($state|async)?.which_sidenav_open === 'date_select'"
      >
        <form [formGroup]="DatePickerForm">
          <md-input-container class="sidenav-panel"
                              fxLayout
          >
            <input mdInput [mdDatepicker]="start_date"
                   placeholder="选择开始日期"
                   [formControl]="DatePickerForm.controls['start_date']"
            >

            <md-datepicker-toggle mdSuffix [for]="start_date"></md-datepicker-toggle>
          </md-input-container>
          <md-datepicker #start_date></md-datepicker>
          <md-input-container class="sidenav-panel"
                              fxLayout
          >
            <input mdInput [mdDatepicker]="end_date" placeholder="选择结束日期"
                   [formControl]="DatePickerForm.controls['end_date']"
            >
            <md-datepicker-toggle mdSuffix [for]="end_date"></md-datepicker-toggle>
          </md-input-container>
          <md-datepicker #end_date
          >
          </md-datepicker>
        </form>
        <div class="sidenav-panel">
          <button md-raised-button
                  *ngFor="let choice of length_button_choices"
                  (click)="change_form_by_button('length',choice.value)"
          >
            {{choice.text}}
          </button>
        </div>
        <div class="sidenav-panel">
          <button md-raised-button
                  *ngFor="let choice of month_button_choices"
                  (click)="change_form_by_button('month',choice.value)"
          >
            {{choice.text}}
          </button>
        </div>
        <div class="sidenav-panel">
          <button md-raised-button
                  style="background-color: #1565C0;color: white;width: 90%;"
                  (click)="search_for_plan_data.next()"
          >
            搜索路局天窗修计划
          </button>
        </div>
        <div class="sidenav-panel">
          <button md-raised-button
                  style="background-color: #1565C0;color: white;width: 90%;"
                  (click)="search_for_history_data.next()"
          >
            搜索路局天窗修历史计划
          </button>
        </div>
      </div>
    </md-sidenav>
    <!-- primary content -->
  </md-sidenav-container>
</div>
